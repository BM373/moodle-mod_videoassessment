define(["jquery","core/yui","core/str","core/modal_factory","core/notification","core/modal_events","core/ajax","mod_videoassessment/ajaxcalls"],function(a,b,c,d,e,f,g,aj){return{mobileshowallcomment:function(){a(".commentbutton").click(function(){c=a(this).attr("timing"),e=a(this).attr("userid"),g=a(this).attr("cmid"),h=a(this).attr("id"),ajaxx = require("mod_videoassessment/ajaxcalls"),ajax1 = new ajaxx();ajax1.getGetallcomments("getallcomments", e, c, g, h);})},init_message_sent_window:function(b){if(1==b){a.when(d.create({type:d.types.DEFAULT,title:"",body:"<h2>Notification Message sent</h2>"})).then(function(a){return a.show(),setInterval(function(){a.hide()},2e3),!1})["catch"](f.exception)}},init_upload_file_step:function(){},init_mobile_upload_progress_bar:function(){a("#id_submitbutton").click(function(d){if(1==a('input[name="upload"]:checked ').val())window.onbeforeunload=null,a("#mobileform").submit();else{window.onbeforeunload=null,d.preventDefault();var e=a("#mobileform").attr("action"),g=new FormData(a("#mobileform")[0]),h=g.get("id"),i=function(){a.when(a.ajax({url:e,type:"POST",Accept:"text/html;charset=UTF-8",cache:!1,data:new FormData(a("#mobileform")[0]),processData:!1,contentType:!1,xhr:function(){return myXhr=new XMLHttpRequest,myXhr.upload&&myXhr.upload.addEventListener("progress",function(b){a(".upload-progress").show()},!1),myXhr}})).done(function(a){""!==a.action&&(window.location.href=e+"?action="+a.action+"&id="+h),window.location.href=e+"?id="+h})};if(void 0==a("#id_mobilevideo")[0].files[0])return a("#id_error_mobilevideo").html("Please upload a video"),a("#id_error_mobilevideo").attr("style","display: block"),!1;if(a("#id_mobilevideo")[0].files[0].size>5e8){c.get_strings([{key:"upoladmessage",component:"videoassessment"},{key:"upload",component:"moodle"},{key:"cancel",component:"moodle"}]).then(function(a){return b.use("moodle-core-notification-confirm",function(){var b=new M.core.confirm({centered:!0,question:a[0],yesLabel:M.util.get_string("yes","moodle"),noLabel:M.util.get_string("cancel","moodle"),modal:!0});b.on("complete-yes",function(){b.hide()}),b.show()})})["catch"](f.exception)}else i()}})}}});